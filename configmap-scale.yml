---
global:
  writeToFile: false
  requestTimeout: 15s
  indexerConfig:
    enabled: false
jobs:
  - name: stage-1
    namespace: stage-1
    jobIterations: 1
    qps: 50
    burst: 50
    namespacedIterations: false
    podWait: false
    verifyObjects: false
    objects:
    - objectTemplate: "https://raw.githubusercontent.com/cloud-bulldozer/cluster-perf-ci/master/templates/configmap-scale/configmap.yml"
      replicas: 18000
      inputVars:
        data_length: 4096

  - name: delete-stage-1
    waitForDeletion: false
    jobType: delete
    objects:
    - kind: Namespace
      labelSelector: {kube-burner-job: stage-1}

  - name: stage-2
    namespace: stage-2
    jobIterations: 1
    qps: 75
    burst: 75
    namespacedIterations: false
    verifyObjects: false
    objects:
    - objectTemplate: "https://raw.githubusercontent.com/cloud-bulldozer/cluster-perf-ci/master/templates/configmap-scale/configmap.yml"
      replicas: 25800
      inputVars:
        data_length: 8192

  - name: delete-stage-2
    waitForDeletion: false
    jobType: delete
    objects:
    - kind: Namespace
      labelSelector: {kube-burner-job: stage-2}

  - name: stage-3
    namespace: stage-3
    jobIterations: 1
    qps: 100
    burst: 100
    namespacedIterations: false
    verifyObjects: false
    objects:
    - objectTemplate: "https://raw.githubusercontent.com/cloud-bulldozer/cluster-perf-ci/master/templates/configmap-scale/configmap.yml"
      replicas: 32400
      inputVars:
        data_length: 16384

  - name: delete-stage-3
    waitForDeletion: false
    jobType: delete
    objects:
    - kind: Namespace
      labelSelector: {kube-burner-job: stage-3}
